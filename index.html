<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Spicuzza</title>

    <style>
        body {
            margin: 0;
        }
        
        canvas {
            display: block;
        }
    </style>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/mdb.min.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="css/index.css">
</head>

<body>
    <div id="root">
        <header>
            <a href="#">Projects</a>
            <a href="#">Bio</a>
            <h1>Spicuzza</h1>
            <a href="#">Resume</a>
            <a href="#">Contact</a>
        </header>

        <div class="arrow-down">
            <i class="fas fa-angle-double-down fa-3x"></i>
        </div>

        <div id="landing-grid">
            <div></div>
            <div></div>
        </div>
        <main>

        </main>

        <footer>
            <div id="social">
                <ul>
                    <li><a href="#">Github</a></li>
                    <li><a href="#">Blog</a></li>
                </ul>
            </div>
            <div id="other">
                <p>Other Section</p>
            </div>
        </footer>
    </div>
    <script src="js/three.js"></script>


    <script>
        var clusters = []; // container for generated clusters

        const randomInt = (max = 10, min = 0) => {
            const res = Math.floor(Math.random() * Math.floor(max));
            return res > min ? res : min;
        };
        const clusterCount = 20; // count of total clusters
        const clusterMinCount = 5;
        const clusterMaxCount = 10;

        //#region scene setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(
            75, // FoV
            window.innerWidth / window.innerHeight, // aspect ratio
            0.1, // inner camera plane
            1000 // outer camera plane
        );
        camera.position.z = 5;
        //#endregion


        //#region renderer setup
        const renderer = new THREE.WebGLRenderer({
            antialias: true
        });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);
        renderer.setClearColor("rgb(20 , 20 , 20)")

        window.addEventListener("resize", (event) => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.aspect = window.innerWidth / window.innerHeight;

            camera.updateProjectionMatrix(); // needs to be run on resize
        })

        const render = () => {
                renderer.render(scene, camera);
            }
            //#endregion


        //#region Lighting
        const ambient = new THREE.AmbientLight(0x404040);
        scene.add(ambient);

        const pointLight = new THREE.PointLight(0x404040);
        pointLight.position.set(50, 50, 50);
        scene.add(pointLight);

        const directionalLight = new THREE.DirectionalLight({
            color: "white",
            intensity: 1
        });
        scene.add(directionalLight);
        console.log(directionalLight)
        //#endregion

        //#region Mesh Generators
        const cubeMaterial = new THREE.MeshLambertMaterial({
            color: "rgb(155 , 155  , 155)"
        })

        function generateCube(sizeX, sizeY, sizeZ) {
            const cubeGeometry = new THREE.BoxGeometry(sizeX, sizeY, sizeZ);
            const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
            scene.add(cube);
            console.log(cube);
            return cube;
        }
        //#endregion

        function generateBackground() {
            const cluster1 = () => {
                const baseZ = 5;
                const cube1 = generateCube(1.5, 1.75, 2);
                cube1.position.set(-1.5, 1, 1);

                const cube2 = generateCube(2, 2.25, 2.5);
                cube2.position.set(-0.75, 0, 0.5);

                const cube3 = generateCube(2, 2, 2)
                cube3.position.set(-1.25, 0.5, 0.5)


            }
            cluster1();
        }
        generateBackground();



        const update = () => {}

        const realTimeLoop = () => {
            requestAnimationFrame(realTimeLoop);
            update();
            render();
        }

        realTimeLoop();
    </script>
</body>

</html>